
{% extends "base.html" %}

{% block title %}CEFR Text Analyzer{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>CEFR Text Analyzer</h2>
    <p>Paste your text below to analyze its linguistic difficulty and identify potential areas for critical review.</p>

    <form method="POST">
        <div class="form-group">
            <textarea class="form-control" name="text" rows="10" placeholder="Paste your text here...">{{ original_text or '' }}</textarea>
        </div>
        <button type="submit" class="btn btn-primary mt-3">Analyze Text</button>
    </form>

    {% if error %}
        <div class="alert alert-danger mt-4">{{ error }}</div>
    {% endif %}

    {% if result %}
    <div class="card mt-4">
        <div class="card-header">
            <h3>Analysis Results</h3>
        </div>
        <div class="card-body">
            <h4 class="card-title">{{ result.explanation }}</h4>
            
            {% if result.warnings %}
                <div class="mt-3">
                    <h5><i class="fas fa-exclamation-triangle text-warning"></i> Potential Issues Detected:</h5>
                    <ul class="list-group">
                        {% for warning in result.warnings %}
                            <li class="list-group-item list-group-item-warning">{{ warning }}</li>
                        {% endfor %}
                    </ul>
                </div>
            {% else %}
                <div class="mt-3">
                    <h5><i class="fas fa-check-circle text-success"></i> No obvious issues detected.</h5>
                    <p>The text appears to be neutral and straightforward based on automated analysis.</p>
                </div>
            {% endif %}
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}
