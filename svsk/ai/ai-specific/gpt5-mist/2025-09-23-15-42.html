<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<pre style="white-space: pre-wrap; font-family: sans-serif;">
---
Type: Code artifact generated by Mistral Medium 3.1 
Author: Mistral Medium 3.1
File name(s): HistoryQuizApp.jsx
Keywords: [not added yet]
---

import React, { useState, useEffect } from 'react';

// Mock function to simulate AI API call
async function fetchAIQuestions(transcript) {
  // In a real app, this would call an AI API (e.g., ChatGPT-5)
  // For now, return mock questions based on the provided transcript
  return [
    {
      question: "Vilken tidsperiod beskrivs medeltiden som i programmet?",
      options: [
        "Tiden mellan istiden och antiken.",
        "Den tusenåriga epoken mellan antiken och den tidigmoderna tiden.",
        "Perioden efter upplysningen och före industrialiseringen.",
        "Perioden efter den tidigmoderna tiden, fram till nutid."
      ],
      answer: 1, // Index of correct answer
      explanation: "Medeltiden beskrivs som den tusenåriga epoken mellan antiken och den tidigmoderna tiden."
    },
    {
      question: "Vilken roll spelade kyrkan under medeltiden?",
      options: [
        "Den hade liten eller ingen makt.",
        "Den styrde mycket av människors vardag och tänkande.",
        "Den var bara till för högtider.",
        "Den var mest en plats för handel."
      ],
      answer: 1,
      explanation: "Kyrkan hade en central roll i samhället och styrde mycket av människors vardag och tänkande."
    },
    // Add more questions here...
  ];
}

export default function HistoryQuizApp() {
  const [questions, setQuestions] = useState([]);
  const [currentQuestion, setCurrentQuestion] = useState(0);
  const [score, setScore] = useState(0);
  const [showFeedback, setShowFeedback] = useState(false);
  const [selectedAnswer, setSelectedAnswer] = useState(null);

  // Load questions (simulate AI API call)
  useEffect(() => {
    const transcript = `
      Medeltiden har fått sitt namn utifrån uppfattningen om att det är en mellanperiod i vår historia.
      Den tråkiga transportsträckan i historieboken mellan tiderna som verkligen har betydelse.
      En tid då det var mörker och förfall och människor dog som flugor.
      Tusen år av tråk. En tid då det var mörker och förfall och människor dog som flugor.
      Men stämmer det? Ja, delvis. Så det är allt från pesteppidemi, folkvandringar, krig, förföljeser.
      Men också en blomstringstid på vissa sätt med exempelvis jordbruket utvecklas.
    `;
    fetchAIQuestions(transcript).then(setQuestions);
  }, []);

  const handleAnswer = (index) => {
    setSelectedAnswer(index);
    if (index === questions[currentQuestion]?.answer) {
      setScore(score + 1);
    }
    setShowFeedback(true);
  };

  const handleNext = () => {
    setCurrentQuestion(currentQuestion + 1);
    setShowFeedback(false);
    setSelectedAnswer(null);
  };

  if (questions.length === 0) return <div>Laddar frågor...</div>;

  const q = questions[currentQuestion];
  if (!q) return <div>Quizet är slut! Ditt resultat: {score}/{questions.length}</div>;

  return (
    <div className="p-4 max-w-md mx-auto">
      <h1 className="text-2xl font-bold mb-4">Medeltiden Quiz</h1>
      <div className="mb-4">
        <p className="font-semibold">{q.question}</p>
        <ul className="mt-2">
          {q.options.map((option, index) => (
            <li
              key={index}
              className={`p-2 mt-1 rounded cursor-pointer ${
                selectedAnswer === index
                  ? index === q.answer
                    ? "bg-green-200"
                    : "bg-red-200"
                  : "bg-gray-100 hover:bg-gray-200"
              }`}
              onClick={() => !showFeedback && handleAnswer(index)}
            >
              {option}
            </li>
          ))}
        </ul>
        {showFeedback && (
          <div className="mt-2 p-2 bg-blue-100 rounded">
            <p>{q.explanation}</p>
            <button
              className="mt-2 bg-blue-500 text-white p-2 rounded"
              onClick={handleNext}
            >
              Nästa fråga
            </button>
          </div>
        )}
      </div>
      <div className="mt-4">
        <p>Poäng: {score}/{questions.length}</p>
      </div>
    </div>
  );
}

</pre>

</body>
</html>
